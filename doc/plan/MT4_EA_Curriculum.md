
# 1か月（28日）MT4 EA 開発カリキュラム

**対象**: プログラミング歴 20年以上 (Java / Python / C# / C++), 裁量FX歴 10年以上, 学習・開発時間 1日あたり約1時間  
**目的**: PF 1.3、最大 DD 15% の“安定型”EAを完成させ、デモ口座で24h運用開始

---

## フェーズ概要

| 週 | フェーズ | 主要ゴール |
|---|---|---|
| Week 0–1 | **環境リフレッシュ & MQL4 再入門** | MT4最新版へ更新 / MQL4構文を思い出す / 口座・データ整備 |
| Week 2 | **戦略設計 & リスク計算** | 裁量手法をEA化 / 証拠金・ロット自動計算関数を実装 |
| Week 3 | **テスト & 堅牢化** | バックテスト最適化 + Walk‑Forward / ログ・例外ハンドリング強化 |
| Week 4 | **フォワード運用 & 改善サイクル** | デモ0.01lot稼働開始 / モニタリング & 次月ロードマップ策定 |

---

## デイリータスクリスト

| Day | タスク | 目標 / 成果物 |
|----|--------|--------------|
| **Day 1** | Rakuten MT4にログイン・ヒストリカルDL<br>MT4を**管理者実行**で最新版へ | アップデートループを解消 |
| **Day 2** | GitHubリポジトリ `MyStableEA` 作成 | バージョン管理開始 |
| **Day 3** | サンプル MovingAverageEA を読解 | OnInit / OnTick の理解 |
| **Day 4** | 自作 EA 雛形 (`#property strict`) 作成 | コンパイル通過 |
| **Day 5** | RSIクロス EA (≤100行) 実装 | 動作確認 |
| **Day 6** | 2020‑24 USDJPY H1 バックテスト | 初期指標取得 |
| **Day 7** | 週次レビュー & 改善メモ | Notion / Markdown に整理 |
| **Day 8** | 得意エントリーパターンを3つ列挙 | 戦略要件固め |
| **Day 9** | ルールをフローチャート化 → 関数スタブ | 戦略設計書 |
| **Day 10** | `CalcLots(riskPct)` 関数実装 | 自動ロット計算 |
| **Day 11** | `CheckMargin()` ログ追加 | 余剰証拠金表示 |
| **Day 12** | TP/SL 自動設定（RR1:1.5 等） | 完全売買ロジック |
| **Day 13** | 資金管理ユニットテスト | 1000回発注でエラー0 |
| **Day 14** | `BetaEA v0.1` 5年BT → PF・DD可視化 | Excel/Pythonグラフ |
| **Day 15** | パラメータ最適化（遺伝的アルゴ） | 上位設定抽出 |
| **Day 16** | Walk‑Forward 2分割テスト | OOS合格判定 |
| **Day 17** | 例外ハンドリング & 詳細ログ | 安定稼働 |
| **Day 18** | GMTシフト耐性ヘルパ実装 | ブローカー差異吸収 |
| **Day 19** | `v0.9` タグ & Param JSON commit | リリース前整備 |
| **Day 20** | スプレッド×2・遅延300msストレス | ロバスト性確認 |
| **Day 21** | 週次レポートまとめ | PF>1.3 / DD<15% 目標 |
| **Day 22** | VPSへMT4+EAデプロイ | 常時稼働基盤 |
| **Day 23** | デモ口座0.01lotで稼働開始 | フォワード開始 |
| **Day 24** | SL/TP到達時にDiscord通知 | 監視自動化 |
| **Day 25** | 日次ジャーナルCSV保存 | ログ蓄積 |
| **Day 26** | バグ/改善をGitHub Issues化 | 次月タスク |
| **Day 27** | `StableEA v1.0` リリースノート | 公開文書 |
| **Day 28** | 成果レビュー & スライド化 | 次月ロードマップ |

---

## 参考式 & 推奨リソース

### ロット計算式
```
Lots = (Balance × RiskPct) / (SL_pips × PipValue × ContractSize)
```

### チェックリスト
- **バックテスト品質** ≥ 99 % (ティック)
- **PF ≥ 1.3、MaxDD ≤ 15 %** を Walk‑Forward OOS でも維持
- スプレッド2倍・遅延300 ms で再テスト
- VPS + Git Pull + 自動再起動(1d)

### 推奨教材
- *MQL4 Reference* (公式)
- Jim Brown『Algorithmic Trading and MetaTrader 4』
- YouTube “MQL4 Tutorial” シリーズ

---

**完了の目印**  
- `StableEA v1.0` をデモで24h稼働し、モニタリングが自動化されている  
- GitHub Issues に次月改良案がリストアップされている
